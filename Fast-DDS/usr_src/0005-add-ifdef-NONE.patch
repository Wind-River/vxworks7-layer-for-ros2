From e6451a41569c589c6d0ce5e98c3e55ac96d214d7 Mon Sep 17 00:00:00 2001
From: Andrei Kholodnyi <andrei.kholodnyi@windriver.com>
Date: Mon, 12 Feb 2024 10:50:16 +0100
Subject: [PATCH 05/10] add ifdef NONE

---
 include/fastdds/rtps/attributes/RTPSParticipantAttributes.h | 3 +++
 include/fastdds/rtps/transport/TCPTransportDescriptor.h     | 3 +++
 include/fastrtps/xmlparser/XMLParserCommon.h                | 3 +++
 3 files changed, 9 insertions(+)

diff --git a/include/fastdds/rtps/attributes/RTPSParticipantAttributes.h b/include/fastdds/rtps/attributes/RTPSParticipantAttributes.h
index fe8415c13..cd0d9696f 100644
--- a/include/fastdds/rtps/attributes/RTPSParticipantAttributes.h
+++ b/include/fastdds/rtps/attributes/RTPSParticipantAttributes.h
@@ -47,6 +47,9 @@ namespace rtps {
  * Struct to define participant types to set participant type parameter property
  * @ingroup DISCOVERY_MODULE
  */
+#ifdef NONE
+#undef NONE
+#endif
 struct ParticipantType
 {
     static constexpr const char* SIMPLE = "SIMPLE";
diff --git a/include/fastdds/rtps/transport/TCPTransportDescriptor.h b/include/fastdds/rtps/transport/TCPTransportDescriptor.h
index 013441ef9..48b777a60 100644
--- a/include/fastdds/rtps/transport/TCPTransportDescriptor.h
+++ b/include/fastdds/rtps/transport/TCPTransportDescriptor.h
@@ -109,6 +109,9 @@ struct TCPTransportDescriptor : public SocketTransportDescriptor
          *
          * - SINGLE_DH_USE: always create a new key using Diffie-Hellman parameters.
          */
+#ifdef NONE
+#undef NONE
+#endif
         enum TLSOptions : uint32_t
         {
             NONE                    = 0,      // 0000 0000 0000
diff --git a/include/fastrtps/xmlparser/XMLParserCommon.h b/include/fastrtps/xmlparser/XMLParserCommon.h
index 266e818c5..3bc31848d 100644
--- a/include/fastrtps/xmlparser/XMLParserCommon.h
+++ b/include/fastrtps/xmlparser/XMLParserCommon.h
@@ -294,6 +294,9 @@ extern const char* OFFSETD1;
 extern const char* OFFSETD2;
 extern const char* OFFSETD3;
 extern const char* RTPS_PDP_TYPE;
+#ifdef NONE
+#undef NONE
+#endif
 extern const char* NONE;
 extern const char* CLIENT;
 extern const char* SERVER;
-- 
2.34.1

